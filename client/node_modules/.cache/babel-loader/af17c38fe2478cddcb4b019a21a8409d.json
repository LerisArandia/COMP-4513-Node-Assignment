{"ast":null,"code":"var _jsxFileName = \"/Users/nathen/web3/src/component/MovieDetailsView.js\";\nimport React from 'react';\nimport MovieDetails from './MovieDetails';\nimport HeaderApp from './HeaderApp.js';\nimport DetailTabs from './DetailTabs.js';\nimport Favorites from './Favorites.js';\nimport CastView from './CastView.js';\nimport \"../css/MovieDetails.css\";\n\nclass MovieDetailsView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToFav = link => {\n      let value = false;\n      console.log(link);\n\n      for (let c of this.state.favs) {\n        if (c.poster === link.poster) {\n          value = true;\n        }\n      }\n\n      if (value === false) {\n        const data = this.state.favs;\n        data.push(link);\n        this.setState({\n          favorites: data\n        });\n      }\n    };\n\n    this.deleteFav = link => {\n      const fav = this.state.favs;\n\n      for (let c = 0; c < fav.length; c++) {\n        if (fav[c].poster === link.poster) {\n          fav.splice(c, 1);\n        }\n      }\n\n      this.setState({\n        favs: fav\n      });\n    };\n\n    this.castViewOn = cast => {\n      this.setState({\n        showCast: false\n      });\n      console.log(\"in details view castview on\");\n      console.log(cast);\n      this.setState({\n        castMember: cast,\n        showCast: true\n      });\n    };\n\n    this.castViewOff = () => {\n      if (this.state.showCast) {\n        this.setState({\n          showCast: false\n        });\n      }\n    };\n\n    this.state = {\n      id: this.props.location.state.id,\n      loaded: false,\n      showCast: false\n    };\n    this.state.favs = this.props.location.state.favsList;\n    this.state.addFavs = this.props.location.state.addToFavs;\n    this.state.movieData = [];\n    this.state.castMember = \"\";\n  }\n\n  async componentDidMount() {\n    try {\n      const url = `https://www.randyconnolly.com/funwebdev/3rd/api/movie/movies.php?id=${this.props.location.state.id}`;\n      const response = await fetch(url);\n      const jsonData = await response.json();\n      this.setState({\n        movieData: jsonData,\n        loaded: true\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    let component = \"\";\n\n    if (!this.state.showCast) {\n      component = React.createElement(MovieDetails, {\n        movieData: this.state.movieData,\n        addFav: this.addToFav,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    } else {\n      component = React.createElement(CastView, {\n        id: this.state.castMember,\n        close: this.castViewOff,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.loaded) {\n      return React.createElement(\"section\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(HeaderApp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Favorites, {\n        favs: this.state.favs,\n        delete: this.deleteFav,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"movie-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, console.log(this.state.castMember), console.log(\"^^^^^^^^^^ castMember in details view\"), component, React.createElement(DetailTabs, {\n        movieData: this.state.movieData,\n        toggle: this.castViewOn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(HeaderApp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(Favorites, {\n        favs: this.state.favs,\n        delete: this.deleteFav,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-spinner fa-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nexport default MovieDetailsView;","map":{"version":3,"sources":["/Users/nathen/web3/src/component/MovieDetailsView.js"],"names":["React","MovieDetails","HeaderApp","DetailTabs","Favorites","CastView","MovieDetailsView","Component","constructor","props","addToFav","link","value","console","log","c","state","favs","poster","data","push","setState","favorites","deleteFav","fav","length","splice","castViewOn","cast","showCast","castMember","castViewOff","id","location","loaded","favsList","addFavs","addToFavs","movieData","componentDidMount","url","response","fetch","jsonData","json","error","render","component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MovieDetails from './MovieDetails';\nimport HeaderApp from './HeaderApp.js';\nimport DetailTabs from './DetailTabs.js';\nimport Favorites from './Favorites.js';\nimport CastView from './CastView.js';\nimport \"../css/MovieDetails.css\";\n\nclass MovieDetailsView extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            id: this.props.location.state.id,\n            loaded: false,\n            showCast: false\n        };\n        this.state.favs = this.props.location.state.favsList;\n        this.state.addFavs = this.props.location.state.addToFavs;\n        this.state.movieData = [];\n        this.state.castMember = \"\";\n    }\n\n    async componentDidMount() {\n        try {\n            const url = `https://www.randyconnolly.com/funwebdev/3rd/api/movie/movies.php?id=${this.props.location.state.id}`;\n\n            const response = await fetch(url);\n            const jsonData = await response.json();\n\n            this.setState({ movieData: jsonData, loaded: true });\n\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    addToFav = (link) => {\n        let value = false;\n        console.log(link);\n        for (let c of this.state.favs) {\n            if (c.poster === link.poster) {\n                value = true;\n            }\n        }\n\n        if (value === false) {\n            const data = this.state.favs;\n            data.push(link);\n            this.setState({ favorites: data });\n        }\n    }\n\n    deleteFav = (link) => {\n        const fav = this.state.favs;\n        for (let c = 0; c < fav.length; c++) {\n            if (fav[c].poster === link.poster) {\n                fav.splice(c, 1);\n            }\n        }\n\n        this.setState({ favs: fav });\n    }\n\n    castViewOn = (cast) => {\n        this.setState({ showCast: false });\n        console.log(\"in details view castview on\");\n        console.log(cast);\n        this.setState({ castMember: cast, showCast: true });\n    }\n\n    castViewOff = () => {\n        if (this.state.showCast) {\n            this.setState({ showCast: false });\n        }\n    }\n\n    render() {\n\n        let component = \"\";\n        if (!this.state.showCast) {\n            component = <MovieDetails movieData={this.state.movieData} addFav={this.addToFav} />;\n        } else { component = <CastView id={this.state.castMember} close={this.castViewOff} />; }\n\n\n        if (this.state.loaded) {\n            return (\n                <section className='main'>\n                    <div>\n                        <HeaderApp />\n                        <Favorites favs={this.state.favs} delete={this.deleteFav} />\n                        <div id=\"movie-details\">\n                            {console.log(this.state.castMember)}\n                            {console.log(\"^^^^^^^^^^ castMember in details view\")}\n                            {component}\n                            <DetailTabs movieData={this.state.movieData} toggle={this.castViewOn} />\n                        </div>\n                    </div>\n                </section>\n            );\n        }\n        else {\n            return (\n                <div>\n                    <HeaderApp />\n                    <Favorites favs={this.state.favs} delete={this.deleteFav} />\n                    <span><i className=\"fas fa-spinner fa-spin\"></i></span>\n                </div>\n            );\n        }\n    }\n}\nexport default MovieDetailsView;\n"]},"metadata":{},"sourceType":"module"}