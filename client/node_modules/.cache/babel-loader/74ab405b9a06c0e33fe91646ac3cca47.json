{"ast":null,"code":"import _classCallCheck from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import MovieList from'./MovieList.js';import Header from'./HeaderApp.js';import FilteredMovieList from'./FilteredMovieList.js';import Favorites from'./Favorites.js';var DefaultView=/*#__PURE__*/function(_React$Component){_inherits(DefaultView,_React$Component);function DefaultView(props){var _this;_classCallCheck(this,DefaultView);_this=_possibleConstructorReturn(this,_getPrototypeOf(DefaultView).call(this,props));_this.addFav=function(poster){// takes a whole movie object\n_this.props.addsFav(poster);};_this.deleteFav=function(movie){_this.props.deletesFav(movie);};_this.filterMovie=function(title,minYear,maxYear,minRating,maxRating){var initialList=_this.props.movies;var sortedTitle=[];var sortedRating=[];var sortedYear=[];_this.setState({movies:initialList});if(title){sortedTitle=initialList.filter(function(movie){if(movie.title.toLowerCase().includes(title.toLowerCase())){return movie;}});}else{sortedTitle=initialList;}if(minRating&&maxRating){sortedRating=sortedTitle.filter(function(movie){if(minRating<=movie.ratings.average&&movie.ratings.average<=maxRating){return movie;}});}else if(minRating){sortedRating=sortedTitle.filter(function(movie){if(minRating<=movie.ratings.average){return movie;}});}else if(maxRating){sortedRating=sortedTitle.filter(function(movie){if(movie.ratings.average<=maxRating){return movie;}});}if(sortedRating.length==0){sortedRating=sortedTitle;}if(minYear&&maxYear){sortedYear=sortedRating.filter(function(movie){if(minYear<=movie.release_date.substring(0,4)&&movie.release_date.substring(0,4)<=maxYear){return movie;}});}else if(minYear){sortedYear=sortedRating.filter(function(movie){if(minYear<=movie.release_date.substring(0,4)){return movie;}});}else if(maxYear){sortedYear=sortedRating.filter(function(movie){if(movie.release_date.substring(0,4)<=maxYear){return movie;}});}if(sortedYear.length==0){sortedYear=sortedRating;}_this.setState({filteredMovies:sortedYear});_this.setState({showFiltered:true});};_this.clearFilter=function(){_this.setState({filteredMovies:{},showFiltered:false});};_this.filterTitle=function(movieArray){movieArray.sort(function(a,b){var x=a.title.toLowerCase();var y=b.title.toLowerCase();if(x<y){return-1;}if(x>y){return 1;}return 0;});_this.setState({filteredMovies:movieArray});};_this.filterYear=function(movieArray){movieArray.sort(function(a,b){var x=a.release_date.substring(0,4);var y=b.release_date.substring(0,4);if(x<y){return-1;}if(x>y){return 1;}return 0;});_this.setState({filteredMovies:movieArray});};_this.filterRating=function(movieArray){movieArray.sort(function(a,b){var x=a.ratings.average;var y=b.ratings.average;if(x<y){return-1;}if(x>y){return 1;}return 0;});_this.setState({filteredMovies:movieArray});};_this.state={movies:_this.filterTitle(_this.props.movies),loaded:false};_this.state={title:\"\",yearBefore:\"\",ratingBefore:\"\"};_this.state.filteredMovies={};_this.state.showFiltered=false;_this.state.homeSearch='';return _this;}_createClass(DefaultView,[{key:\"render\",value:function render(){if(this.props.loaded){if(!this.state.showFiltered){return React.createElement(\"section\",{className:\"main\"},React.createElement(Header,null),React.createElement(Favorites,{favs:this.props.favsList,delete:this.deleteFav}),React.createElement(MovieList,{loaded:this.props.loaded,filterRating:this.filterRating,filterYear:this.filterYear,filterTitle:this.filterTitle,favsList:this.props.favsList,movies:this.props.movies,addFav:this.addFav,filterMovie:this.filterMovie,clearFilter:this.clearFilter}));}else{return React.createElement(\"section\",{className:\"main\"},React.createElement(Header,null),React.createElement(Favorites,{favs:this.props.favsList,delete:this.deleteFav}),React.createElement(FilteredMovieList,{loaded:this.props.loaded,filterRating:this.filterRating,filterYear:this.filterYear,filterTitle:this.filterTitle,favsList:this.props.favsList,movies:this.state.filteredMovies,addFav:this.addFav,filterMovie:this.filterMovie,clearFilter:this.clearFilter}));}}else{return React.createElement(\"div\",null,React.createElement(Header,null),React.createElement(Favorites,{favs:this.props.favs}),React.createElement(\"span\",null,React.createElement(\"i\",{className:\"fas fa-spinner fa-spin\"})));}}}]);return DefaultView;}(React.Component);export default DefaultView;","map":{"version":3,"sources":["/Users/nathen/web3/src/component/DefaultView.js"],"names":["React","MovieList","Header","FilteredMovieList","Favorites","DefaultView","props","addFav","poster","addsFav","deleteFav","movie","deletesFav","filterMovie","title","minYear","maxYear","minRating","maxRating","initialList","movies","sortedTitle","sortedRating","sortedYear","setState","filter","toLowerCase","includes","ratings","average","length","release_date","substring","filteredMovies","showFiltered","clearFilter","filterTitle","movieArray","sort","a","b","x","y","filterYear","filterRating","state","loaded","yearBefore","ratingBefore","homeSearch","favsList","favs","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MovieList from './MovieList.js';\nimport Header from './HeaderApp.js';\nimport FilteredMovieList from './FilteredMovieList.js';\nimport Favorites from './Favorites.js';\n\nclass DefaultView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { movies: this.filterTitle(this.props.movies), loaded: false };\n        this.state = { title: \"\", yearBefore: \"\", ratingBefore: \"\" };\n        this.state.filteredMovies = {};\n        this.state.showFiltered = false;\n        this.state.homeSearch = '';\n    }\n\n\n    addFav = (poster) => { // takes a whole movie object\n        this.props.addsFav(poster);\n    }\n\n    deleteFav = (movie) => {\n        this.props.deletesFav(movie);\n    }\n\n    filterMovie = (title, minYear, maxYear, minRating, maxRating) => {\n\n        let initialList = this.props.movies;\n        let sortedTitle = [];\n        let sortedRating = [];\n        let sortedYear = [];\n\n\n        this.setState({ movies: initialList })\n        if (title) {\n            sortedTitle = initialList.filter((movie) => {\n                if ((movie.title.toLowerCase()).includes(title.toLowerCase())) {\n                    return movie;\n                }\n            }\n            )\n        } else { sortedTitle = initialList }\n\n        if (minRating && maxRating) {\n            sortedRating = sortedTitle.filter((movie) => {\n                if (minRating <= movie.ratings.average && movie.ratings.average <= maxRating) {\n                    return movie;\n                }\n            })\n        }\n        else if (minRating) {\n            sortedRating = sortedTitle.filter((movie) => {\n                if (minRating <= movie.ratings.average) {\n                    return movie;\n                }\n            })\n        }\n        else if (maxRating) {\n            sortedRating = sortedTitle.filter((movie) => {\n                if (movie.ratings.average <= maxRating) {\n                    return movie;\n                }\n            })\n        }\n        if (sortedRating.length == 0) { sortedRating = sortedTitle }\n\n        if (minYear && maxYear) {\n            sortedYear = sortedRating.filter((movie) => {\n                if (minYear <= movie.release_date.substring(0, 4) && movie.release_date.substring(0, 4) <= maxYear) {\n                    return movie;\n                }\n            })\n        }\n        else if (minYear) {\n            sortedYear = sortedRating.filter((movie) => {\n                if (minYear <= movie.release_date.substring(0, 4)) {\n                    return movie;\n                }\n            })\n        }\n        else if (maxYear) {\n            sortedYear = sortedRating.filter((movie) => {\n                if (movie.release_date.substring(0, 4) <= maxYear) {\n                    return movie;\n                }\n            })\n        }\n        if (sortedYear.length == 0) { sortedYear = sortedRating }\n        this.setState({ filteredMovies: sortedYear });\n        this.setState({ showFiltered: true });\n\n    }\n\n    clearFilter = () => {\n        this.setState({ filteredMovies: {}, showFiltered: false });\n    }\n\n    filterTitle = (movieArray) => {\n        movieArray.sort((a, b) => {\n            var x = a.title.toLowerCase();\n            var y = b.title.toLowerCase();\n            if (x < y) { return -1; }\n            if (x > y) { return 1; }\n            return 0;\n        })\n        this.setState({ filteredMovies: movieArray });\n    }\n\n    filterYear = (movieArray) => {\n        movieArray.sort((a, b) => {\n            var x = a.release_date.substring(0, 4);\n            var y = b.release_date.substring(0, 4);\n            if (x < y) { return -1; }\n            if (x > y) { return 1; }\n            return 0;\n        })\n        this.setState({ filteredMovies: movieArray });\n    }\n\n    filterRating = (movieArray) => {\n        movieArray.sort((a, b) => {\n            var x = a.ratings.average;\n            var y = b.ratings.average;\n            if (x < y) { return -1; }\n            if (x > y) { return 1; }\n            return 0;\n        })\n        this.setState({ filteredMovies: movieArray });\n    }\n\n    render() {\n        if (this.props.loaded) {\n            if (!this.state.showFiltered) {\n                return (\n                    <section className='main'>\n                        <Header />\n                        <Favorites favs={this.props.favsList} delete={this.deleteFav} />\n                        <MovieList loaded={this.props.loaded} filterRating={this.filterRating} filterYear={this.filterYear} filterTitle={this.filterTitle} favsList={this.props.favsList} movies={this.props.movies} addFav={this.addFav} filterMovie={this.filterMovie} clearFilter={this.clearFilter} />\n                    </section>\n                );\n            }\n            else {\n                return (\n                    <section className='main'>\n                        <Header />\n                        <Favorites favs={this.props.favsList} delete={this.deleteFav} />\n                        <FilteredMovieList loaded={this.props.loaded} filterRating={this.filterRating} filterYear={this.filterYear} filterTitle={this.filterTitle} favsList={this.props.favsList} movies={this.state.filteredMovies} addFav={this.addFav} filterMovie={this.filterMovie} clearFilter={this.clearFilter} />\n                    </section >\n                );\n            }\n        } else {\n            return (\n                <div>\n                    <Header />\n                    <Favorites favs={this.props.favs} />\n                    <span><i className=\"fas fa-spinner fa-spin\"></i></span>\n\n                </div>\n            );\n\n        }\n    }\n\n\n}\n\nexport default DefaultView;"]},"metadata":{},"sourceType":"module"}