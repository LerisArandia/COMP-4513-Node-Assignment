{"ast":null,"code":"var _jsxFileName = \"/Users/nathen/LerisWeb3/src/component/MovieDetailsView.js\";\nimport React from 'react';\nimport MovieDetails from './MovieDetails';\nimport HeaderApp from './HeaderApp.js';\nimport DetailTabs from './DetailTabs.js';\nimport Favorites from './Favorites.js';\n\nclass MovieDetailsView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToFav = link => {\n      const temp = this.state.favs;\n      temp.push(link);\n      this.setState({\n        favsList: temp\n      });\n    };\n\n    this.state = {\n      id: this.props.location.state.id,\n      loaded: false\n    };\n    this.state.favs = this.props.location.state.favsList;\n    this.state.addFavs = this.props.location.state.addToFavs;\n    this.state.movieData = [];\n  }\n\n  async componentDidMount() {\n    try {\n      const url = `http://www.randyconnolly.com/funwebdev/3rd/api/movie/movies.php?id=${this.props.location.state.id}`;\n      const response = await fetch(url);\n      const jsonData = await response.json();\n      this.setState({\n        movieData: jsonData,\n        loaded: true\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    if (this.state.loaded) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(HeaderApp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(Favorites, {\n        favs: this.state.favs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(MovieDetails, {\n        movieData: this.state.movieData,\n        addFav: this.addToFav,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-spinner fa-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default MovieDetailsView;","map":{"version":3,"sources":["/Users/nathen/LerisWeb3/src/component/MovieDetailsView.js"],"names":["React","MovieDetails","HeaderApp","DetailTabs","Favorites","MovieDetailsView","Component","constructor","props","addToFav","link","temp","state","favs","push","setState","favsList","id","location","loaded","addFavs","addToFavs","movieData","componentDidMount","url","response","fetch","jsonData","json","error","console","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;AAEA,MAAMC,gBAAN,SAA+BL,KAAK,CAACM,SAArC,CAA+C;AAE3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAsBnBC,QAtBmB,GAsBPC,IAAD,IAAU;AACjB,YAAMC,IAAI,GAAG,KAAKC,KAAL,CAAWC,IAAxB;AACAF,MAAAA,IAAI,CAACG,IAAL,CAAUJ,IAAV;AACA,WAAKK,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEL;AAAZ,OAAd;AACH,KA1BkB;;AAEf,SAAKC,KAAL,GAAa;AAAEK,MAAAA,EAAE,EAAE,KAAKT,KAAL,CAAWU,QAAX,CAAoBN,KAApB,CAA0BK,EAAhC;AAAoCE,MAAAA,MAAM,EAAE;AAA5C,KAAb;AACA,SAAKP,KAAL,CAAWC,IAAX,GAAkB,KAAKL,KAAL,CAAWU,QAAX,CAAoBN,KAApB,CAA0BI,QAA5C;AACA,SAAKJ,KAAL,CAAWQ,OAAX,GAAqB,KAAKZ,KAAL,CAAWU,QAAX,CAAoBN,KAApB,CAA0BS,SAA/C;AACA,SAAKT,KAAL,CAAWU,SAAX,GAAuB,EAAvB;AACH;;AAED,QAAMC,iBAAN,GAA0B;AACtB,QAAI;AACA,YAAMC,GAAG,GAAI,sEAAqE,KAAKhB,KAAL,CAAWU,QAAX,CAAoBN,KAApB,CAA0BK,EAAG,EAA/G;AAEA,YAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,YAAMG,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAvB;AAEA,WAAKb,QAAL,CAAc;AAAEO,QAAAA,SAAS,EAAEK,QAAb;AAAuBR,QAAAA,MAAM,EAAE;AAA/B,OAAd;AAEH,KARD,CAQE,OAAOU,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;AACJ;;AAQDE,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKnB,KAAL,CAAWO,MAAf,EAAuB;AACnB,aAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAE,KAAKP,KAAL,CAAWC,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAE,KAAKD,KAAL,CAAWU,SAApC;AAA+C,QAAA,MAAM,EAAE,KAAKb,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CAFJ;AAWH,KAZD,MAaK;AACD,aAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM;AAAG,QAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN,CAAR;AACH;AACJ;;AA/C0C;;AAsD/C,eAAeJ,gBAAf","sourcesContent":["import React from 'react';\nimport MovieDetails from './MovieDetails';\nimport HeaderApp from './HeaderApp.js';\nimport DetailTabs from './DetailTabs.js';\nimport Favorites from './Favorites.js';\n\nclass MovieDetailsView extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { id: this.props.location.state.id, loaded: false };\n        this.state.favs = this.props.location.state.favsList;\n        this.state.addFavs = this.props.location.state.addToFavs;\n        this.state.movieData = [];\n    }\n\n    async componentDidMount() {\n        try {\n            const url = `http://www.randyconnolly.com/funwebdev/3rd/api/movie/movies.php?id=${this.props.location.state.id}`;\n\n            const response = await fetch(url);\n            const jsonData = await response.json();\n\n            this.setState({ movieData: jsonData, loaded: true });\n\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    addToFav = (link) => {\n        const temp = this.state.favs;\n        temp.push(link);\n        this.setState({ favsList: temp });\n    }\n\n    render() {\n        if (this.state.loaded) {\n            return (\n\n                <div>\n                    {/* {console.log(this.state.id + \"id in deets view\")} */}\n                    <HeaderApp />\n                    <Favorites favs={this.state.favs} />\n                    <MovieDetails movieData={this.state.movieData} addFav={this.addToFav} />\n                    {/* <DetailTabs /> */}\n                </div>\n            );\n\n        }\n        else {\n            return (<span><i className=\"fas fa-spinner fa-spin\"></i></span>);\n        }\n    }\n\n\n}\n\n\n\nexport default MovieDetailsView;\n"]},"metadata":{},"sourceType":"module"}