{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\leris\\\\Desktop\\\\COMP-4513-Node-Assignment\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport DefaultView from './component/DefaultView.js';\nimport './App.css';\nimport Home from \"./component/Home.js\";\nimport MovieDetailsView from \"./component/MovieDetailsView.js\";\nimport { Route, Switch } from 'react-router-dom'; // import CastView from \"./component/CastView.js\";\n\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'; // Used this Tutorial https://www.youtube.com/watch?v=NUQkajBdnmQ , https://github.com/Ihatetomatoes/react-router-page-transition-css\n\nimport Modal from 'react-modal';\nModal.setAppElement('#root');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToFavorite = poster => {\n      let value = false;\n      console.log(poster);\n\n      for (let c of this.state.favorites) {\n        if (c.poster === poster.poster) {\n          value = true;\n        }\n      }\n\n      if (value === false) {\n        const data = this.state.favorites;\n        data.push(poster);\n        this.setState({\n          favorites: data\n        });\n      }\n    };\n\n    this.deleteFromFavorite = poster => {\n      console.log(\"To be delated: \" + poster);\n      const fav = this.state.favorites;\n\n      for (let c = 0; c < fav.length; c++) {\n        if (fav[c].poster === poster.poster) {\n          fav.splice(c, 1);\n        }\n      }\n\n      this.setState({\n        favorites: fav\n      });\n    };\n\n    this.state = {\n      movies: []\n    };\n    this.state.favorites = [];\n    this.state.loaded = false;\n  }\n\n  async componentDidMount() {\n    try {\n      if (JSON.parse(localStorage.getItem(\"movies\"))) {\n        this.setState({\n          movies: JSON.parse(localStorage.getItem(\"movies\"))\n        });\n        this.setState({\n          loaded: true\n        });\n      } else {\n        const url = \"https://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL\"; //const url = \"/api/brief\";\n\n        const response = await fetch(url);\n        const jsonData = await response.json();\n        localStorage.setItem(\"movies\", JSON.stringify(jsonData));\n        this.setState({\n          movies: jsonData,\n          loaded: true\n        });\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    if (this.state.loaded) {\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Route, {\n        render: ({\n          location\n        }) => React.createElement(TransitionGroup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(CSSTransition, {\n          key: location.key,\n          timeout: {\n            enter: '300',\n            exit: '300'\n          },\n          classNames: \"fade\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(Switch, {\n          location: location,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(Route, {\n          path: \"/\",\n          exact: true,\n          component: Home,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/default\",\n          exact: true,\n          render: () => React.createElement(DefaultView, {\n            loaded: this.state.loaded,\n            movies: this.state.movies,\n            favsList: this.state.favorites,\n            addsFav: this.addToFavorite,\n            deletesFav: this.deleteFromFavorite,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        })))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/moviedetails\",\n        exact: true,\n        component: MovieDetailsView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"span\", {\n        stle: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-spinner fa-spin fa fa-7x\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/leris/Desktop/COMP-4513-Node-Assignment/client/src/App.js"],"names":["React","DefaultView","Home","MovieDetailsView","Route","Switch","CSSTransition","TransitionGroup","Modal","setAppElement","App","Component","constructor","props","addToFavorite","poster","value","console","log","c","state","favorites","data","push","setState","deleteFromFavorite","fav","length","splice","movies","loaded","componentDidMount","JSON","parse","localStorage","getItem","url","response","fetch","jsonData","json","setItem","stringify","error","render","location","key","enter","exit","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport DefaultView from './component/DefaultView.js';\r\nimport './App.css';\r\nimport Home from \"./component/Home.js\";\r\nimport MovieDetailsView from \"./component/MovieDetailsView.js\";\r\nimport { Route, Switch } from 'react-router-dom';\r\n// import CastView from \"./component/CastView.js\";\r\nimport {\r\n  CSSTransition,\r\n  TransitionGroup,\r\n} from 'react-transition-group'; // Used this Tutorial https://www.youtube.com/watch?v=NUQkajBdnmQ , https://github.com/Ihatetomatoes/react-router-page-transition-css\r\nimport Modal from 'react-modal';\r\n\r\nModal.setAppElement('#root');\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { movies: [] };\r\n    this.state.favorites = [];\r\n    this.state.loaded = false;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      if (JSON.parse(localStorage.getItem(\"movies\"))) {\r\n\r\n        this.setState({\r\n          movies: JSON.parse(localStorage.getItem(\"movies\"))\r\n        });\r\n        this.setState({ loaded: true });\r\n      }\r\n      else {\r\n        const url = \"https://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL\";\r\n\r\n        //const url = \"/api/brief\";\r\n\r\n        const response = await fetch(url);\r\n        const jsonData = await response.json();\r\n        localStorage.setItem(\"movies\", JSON.stringify(jsonData));\r\n        this.setState({ movies: jsonData, loaded: true });\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n\r\n  addToFavorite = (poster) => {\r\n    let value = false;\r\n    console.log(poster);\r\n    for (let c of this.state.favorites) {\r\n      if (c.poster === poster.poster) {\r\n        value = true;\r\n      }\r\n    }\r\n\r\n    if (value === false) {\r\n      const data = this.state.favorites;\r\n      data.push(poster);\r\n      this.setState({ favorites: data });\r\n    }\r\n  }\r\n\r\n  deleteFromFavorite = (poster) => {\r\n    console.log(\"To be delated: \" + poster);\r\n    const fav = this.state.favorites;\r\n    for (let c = 0; c < fav.length; c++) {\r\n      if (fav[c].poster === poster.poster) {\r\n        fav.splice(c, 1);\r\n      }\r\n    }\r\n\r\n    this.setState({ favorites: fav });\r\n\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loaded) {\r\n      return (\r\n        <main>\r\n          {/* Used this Tutorial https://www.youtube.com/watch?v=NUQkajBdnmQ , https://github.com/Ihatetomatoes/react-router-page-transition-css */}\r\n          <Route render={({ location }) => (\r\n            <TransitionGroup>\r\n              <CSSTransition\r\n                key={location.key}\r\n                timeout={{ enter: '300', exit: '300' }}\r\n                classNames=\"fade\"\r\n              >\r\n                <Switch location={location}>\r\n                  <Route path=\"/\" exact component={Home} />\r\n                  <Route path=\"/default\" exact render={() =>\r\n                    <DefaultView loaded={this.state.loaded} movies={this.state.movies} favsList={this.state.favorites} addsFav={this.addToFavorite} deletesFav={this.deleteFromFavorite} />\r\n                  } />\r\n                </Switch>\r\n              </CSSTransition>\r\n            </TransitionGroup>\r\n          )} />\r\n          <Route path=\"/moviedetails\" exact component={MovieDetailsView} />\r\n          {/* <Route path=\"/castview\" exact component={CastView} /> */}\r\n          {/* <DefaultView movies={this.state.movies} addsFav={this.addToFavorite} /> */}\r\n        </main>\r\n      );\r\n    }\r\n    else {\r\n      return (<span stle={{ textAlign: 'center' }}><i className=\"fas fa-spinner fa-spin fa fa-7x\"></i></span>);\r\n    }\r\n  }\r\n\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}