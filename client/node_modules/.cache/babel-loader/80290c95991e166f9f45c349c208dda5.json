{"ast":null,"code":"var _jsxFileName = \"/Users/nathen/web3/src/App.js\";\nimport React from 'react';\nimport DefaultView from './component/DefaultView.js';\nimport './App.css';\nimport Home from \"./component/Home.js\";\nimport MovieDetailsView from \"./component/MovieDetailsView.js\";\nimport { Route } from 'react-router-dom';\nimport CastView from \"./component/CastView.js\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToFavorite = poster => {\n      console.log(\"THis check \" + poster);\n      let value = false;\n\n      for (let c of this.state.favorites) {\n        if (c === poster) {\n          value = true;\n        }\n      }\n\n      if (value === false) {\n        const data = this.state.favorites;\n        data.push(poster);\n        this.setState({\n          favorites: data\n        });\n      }\n\n      console.log(this.state.favorites);\n    };\n\n    this.state = {\n      movies: []\n    };\n    this.state.favorites = [];\n    this.state.loaded = false;\n  }\n\n  async componentDidMount() {\n    try {\n      const url = \"http://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL\";\n      const response = await fetch(url);\n      const jsonData = await response.json();\n      this.setState({\n        movies: jsonData,\n        loaded: true\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    if (this.state.loaded) {\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        component: Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/default\",\n        exact: true,\n        render: () => React.createElement(DefaultView, {\n          loaded: this.state.loaded,\n          movies: this.state.movies,\n          favsList: this.state.favorites,\n          addsFav: this.addToFavorite,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/moviedetails\",\n        exact: true,\n        component: MovieDetailsView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/castview\",\n        exact: true,\n        component: CastView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-spinner fa-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nathen/web3/src/App.js"],"names":["React","DefaultView","Home","MovieDetailsView","Route","CastView","App","Component","constructor","props","addToFavorite","poster","console","log","value","c","state","favorites","data","push","setState","movies","loaded","componentDidMount","url","response","fetch","jsonData","json","error","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DefaultView from './component/DefaultView.js';\nimport './App.css';\nimport Home from \"./component/Home.js\";\nimport MovieDetailsView from \"./component/MovieDetailsView.js\";\nimport { Route } from 'react-router-dom';\nimport CastView from \"./component/CastView.js\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { movies: [] };\n    this.state.favorites = [];\n    this.state.loaded = false;\n  }\n\n  async componentDidMount() {\n    try {\n      const url = \"http://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL\";\n\n      const response = await fetch(url);\n      const jsonData = await response.json();\n      this.setState({ movies: jsonData, loaded: true });\n\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n\n  addToFavorite = (poster) => {\n      \n      console.log(\"THis check \" + poster );\n      let value = false;\n      for(let c of this.state.favorites)\n          {\n              if(c === poster)\n                  {\n                      value = true;\n                  }\n          }\n      \n      if(value === false)\n          {\n                const data = this.state.favorites;\n                data.push(poster);\n                this.setState({ favorites: data });\n          }\n     \n      console.log(this.state.favorites);\n  \n  }\n\n  render() {\n    if (this.state.loaded) {\n      return (\n        <main>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/default\" exact render={() =>\n            <DefaultView loaded={this.state.loaded} movies={this.state.movies} favsList={this.state.favorites} addsFav={this.addToFavorite} />\n          } />\n          <Route path=\"/moviedetails\" exact component={MovieDetailsView} />\n          <Route path=\"/castview\" exact component={CastView} />\n\n          {/* <DefaultView movies={this.state.movies} addsFav={this.addToFavorite} /> */}\n        </main>\n      );\n    }\n    else {\n      return (<span><i className=\"fas fa-spinner fa-spin\"></i></span>);\n    }\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}