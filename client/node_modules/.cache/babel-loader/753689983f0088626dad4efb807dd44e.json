{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nathen/web3/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/nathen/web3/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import DefaultView from'./component/DefaultView.js';import'./App.css';import Home from\"./component/Home.js\";import MovieDetailsView from\"./component/MovieDetailsView.js\";import{Route,Switch}from'react-router-dom';// import CastView from \"./component/CastView.js\";\nimport{CSSTransition,TransitionGroup}from'react-transition-group';// Used this Tutorial https://www.youtube.com/watch?v=NUQkajBdnmQ , https://github.com/Ihatetomatoes/react-router-page-transition-css\nimport Modal from'react-modal';Modal.setAppElement('#root');var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.addToFavorite=function(poster){var value=false;console.log(poster);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_this.state.favorites[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var c=_step.value;if(c.poster===poster.poster){value=true;}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}if(value===false){var data=_this.state.favorites;data.push(poster);_this.setState({favorites:data});}};_this.deleteFromFavorite=function(poster){console.log(\"To be delated: \"+poster);var fav=_this.state.favorites;for(var c=0;c<fav.length;c++){if(fav[c].poster===poster.poster){fav.splice(c,1);}}_this.setState({favorites:fav});};_this.state={movies:[]};_this.state.favorites=[];_this.state.loaded=false;return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,response,jsonData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!JSON.parse(localStorage.getItem(\"movies\"))){_context.next=6;break;}this.setState({movies:JSON.parse(localStorage.getItem(\"movies\"))});this.setState({loaded:true});_context.next=15;break;case 6:url=\"http://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL\";_context.next=9;return fetch(url);case 9:response=_context.sent;_context.next=12;return response.json();case 12:jsonData=_context.sent;localStorage.setItem(\"movies\",JSON.stringify(jsonData));this.setState({movies:jsonData,loaded:true});case 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,this,[[0,17]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;if(this.state.loaded){return React.createElement(\"main\",null,React.createElement(Route,{render:function render(_ref){var location=_ref.location;return React.createElement(TransitionGroup,null,React.createElement(CSSTransition,{key:location.key,timeout:{enter:'300',exit:'300'},classNames:\"fade\"},React.createElement(Switch,{location:location},React.createElement(Route,{path:\"/\",exact:true,component:Home}),React.createElement(Route,{path:\"/default\",exact:true,render:function render(){return React.createElement(DefaultView,{loaded:_this2.state.loaded,movies:_this2.state.movies,favsList:_this2.state.favorites,addsFav:_this2.addToFavorite,deletesFav:_this2.deleteFromFavorite});}}))));}}),React.createElement(Route,{path:\"/moviedetails\",exact:true,component:MovieDetailsView}));}else{return React.createElement(\"span\",{stle:{textAlign:'center'}},React.createElement(\"i\",{className:\"fas fa-spinner fa-spin fa fa-7x\"}));}}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/nathen/web3/src/App.js"],"names":["React","DefaultView","Home","MovieDetailsView","Route","Switch","CSSTransition","TransitionGroup","Modal","setAppElement","App","props","addToFavorite","poster","value","console","log","state","favorites","c","data","push","setState","deleteFromFavorite","fav","length","splice","movies","loaded","JSON","parse","localStorage","getItem","url","fetch","response","json","jsonData","setItem","stringify","error","location","key","enter","exit","textAlign","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DefaultView from './component/DefaultView.js';\nimport './App.css';\nimport Home from \"./component/Home.js\";\nimport MovieDetailsView from \"./component/MovieDetailsView.js\";\nimport { Route, Switch } from 'react-router-dom';\n// import CastView from \"./component/CastView.js\";\nimport {\n  CSSTransition,\n  TransitionGroup,\n} from 'react-transition-group'; // Used this Tutorial https://www.youtube.com/watch?v=NUQkajBdnmQ , https://github.com/Ihatetomatoes/react-router-page-transition-css\nimport Modal from 'react-modal';\n\nModal.setAppElement('#root');\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { movies: [] };\n    this.state.favorites = [];\n    this.state.loaded = false;\n  }\n\n  async componentDidMount() {\n    try {\n      if (JSON.parse(localStorage.getItem(\"movies\"))) {\n\n        this.setState({\n          movies: JSON.parse(localStorage.getItem(\"movies\"))\n        });\n        this.setState({ loaded: true });\n      }\n      else {\n        const url = \"http://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL\";\n\n        const response = await fetch(url);\n        const jsonData = await response.json();\n        localStorage.setItem(\"movies\", JSON.stringify(jsonData));\n        this.setState({ movies: jsonData, loaded: true });\n      }\n\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n\n  addToFavorite = (poster) => {\n    let value = false;\n    console.log(poster);\n    for (let c of this.state.favorites) {\n      if (c.poster === poster.poster) {\n        value = true;\n      }\n    }\n\n    if (value === false) {\n      const data = this.state.favorites;\n      data.push(poster);\n      this.setState({ favorites: data });\n    }\n  }\n\n  deleteFromFavorite = (poster) => {\n    console.log(\"To be delated: \" + poster);\n    const fav = this.state.favorites;\n    for (let c = 0; c < fav.length; c++) {\n      if (fav[c].poster === poster.poster) {\n        fav.splice(c, 1);\n      }\n    }\n\n    this.setState({ favorites: fav });\n\n  }\n\n  render() {\n    if (this.state.loaded) {\n      return (\n        <main>\n          {/* Used this Tutorial https://www.youtube.com/watch?v=NUQkajBdnmQ , https://github.com/Ihatetomatoes/react-router-page-transition-css */}\n          <Route render={({ location }) => (\n            <TransitionGroup>\n              <CSSTransition\n                key={location.key}\n                timeout={{ enter: '300', exit: '300' }}\n                classNames=\"fade\"\n              >\n                <Switch location={location}>\n                  <Route path=\"/\" exact component={Home} />\n                  <Route path=\"/default\" exact render={() =>\n                    <DefaultView loaded={this.state.loaded} movies={this.state.movies} favsList={this.state.favorites} addsFav={this.addToFavorite} deletesFav={this.deleteFromFavorite} />\n                  } />\n                </Switch>\n              </CSSTransition>\n            </TransitionGroup>\n          )} />\n          <Route path=\"/moviedetails\" exact component={MovieDetailsView} />\n          {/* <Route path=\"/castview\" exact component={CastView} /> */}\n          {/* <DefaultView movies={this.state.movies} addsFav={this.addToFavorite} /> */}\n        </main>\n      );\n    }\n    else {\n      return (<span stle={{ textAlign: 'center' }}><i className=\"fas fa-spinner fa-spin fa fa-7x\"></i></span>);\n    }\n  }\n\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}